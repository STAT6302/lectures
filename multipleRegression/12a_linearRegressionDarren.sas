data mammal;                                                                                                                                                                                                       
input CommonName    $        Species        $                        Mass     Metab       Life;
datalines;
Echidna		      Tachiglossus_aculeatus		     2.500	 302.00	  14  
Long-beaked_echidna   Zaglossus_bruijni		     10.300	 594.00	  20  
Platypus	      Ornithorhynchus_anatinus	             1.300	 229.00	  9   
Opossum		      Lutreolina_crassicaudata	             0.812	 196.00	  5   
South_American_opossu Didelphis_marsupialis		     1.330	 299.00	  6   
Virginia_opossum      Didelphis_virginiana		     3.260	 519.00	  8   
Australian_marsupial  Antechinus_macdonnellensis	     0.014	 9.00	  2   
Marsupial__	      Antechinomus_stuartii		     0.004	 17.60	  2.5 
Marsupial	      Antechinomus_laniger		     0.009	 5.17	  2   
Marsupial_rat	      Dasyuroides_byrnei		     0.089	 37.40	  3   
Bandicoot	      Isodon_macroonurus		     1.000	 201.00	  8   
Long-nosed_bandicoot  Perameles_nasuta		     0.645	 153.00	  7   
Fat-tailed_dunnart    Sminthopsis_crassicaudata	     0.015	 9.64	  2   
Australian_marsupial  Planigale_maculata		     0.013	 13.70	  1.5 
Tasmanian_devil	      Sacrophilus_harrisii		     5.050	 628.00	  10  
Brushtail_possum      Trichosurus_vulpecula		     1.980	 306.00	  8   
Kangaroo	      Macropus_robustus		     4.690	 694.00	  11  
Red_kangaroo	      Macropus_rufus			     40.00	 4000.00  15  	  
Tammar_wallaby	      Macropus_eugenii		             4.800	 671.00	  11  
Sloth		      Bradypus_variegatus		     3.790	 331.00	  19  
Armadillo	      Dasypus_novemcinctus		     3.320	 384.00	  10  
Pangolin	      Manis_tricuspis			     2.730	 440.00	  8   
Scaly_anteater	      Manis_javanica			     4.220	 529.00	  11  
Short-tailed_shrew    Blarina_brevicauda		     0.021	 25.30	  1.2 
Hamster		      Cricetus_cricetus		     0.362	 112.00	  4   
Spiny_pocket_mouse    Liomys_salvini			     0.044	 22.50	  2.5 
Mexican_mouse	      Liomys_irroratus		             0.048	 26.00	  2.5 
Mouse		      Microtus_minutus		             0.010	 18.00	  0.8 
Mouse		      Microtus_mexicanus		     0.028	 22.00	  1.5 
Golden_mouse	      Ochrotomys_nuttalli		     0.020	 23.80	  1.5 
Mouse		      Mus_musculus			     0.021	 20.90	  1.5 
Woodrat		      Neotoma_cirenea			     0.321	 121.00	  3.5 
Woodrat		      Neotoma_lepida			     0.139	 48.20	  3.5 
Woodrat		      Neotoma_fuscipes		             0.187	 71.30	  3.5 
Woodrat		      Neotoma_albigula		             0.172	 61.40	  3.5 
Musk_rat	      Ondatra_zibethicus		     0.842	 333.00	  3.5 
Pocket_mouse	      Perognathus_longimembris	             0.012	 11.40	  1.5 
Mouse		      Perognahtus_hispidus		     0.040	 23.80	  2   
Rodent		      Peromyscus_eremicus		     0.022	 15.40	  1.5 
Rodent		      Peromyscus_californicus		     0.046	 22.60	  2.5 
White-footed_mouse    Peromyscus_leucopus		     0.022	 26.80	  1.5 
Shrew		      Sorex_caecutiens		             0.004	 15.00	  0.8 
Common_shrew	      Sorex_araneus			     0.005	 17.60	  0.8 
Chinchilla	      Chinchilla_laniger		     0.494	 112.00	  8   
Viscacha	      Lagostomus_maximus		     6.780	 916.00	  13  
Rodent		      Kerodon_rupestris		     0.750	 193.00	  6   
Guinea_pig	      Cavia_porcellus			     0.500	 192.00	  6   
Marmot		      Marmota_monax			     2.650	 320.00	  10  
Rat		      Rattus_fuscipes			     0.076	 40.70	  3   
Rat		      Rattus_lutreolus		             0.109	 30.50	  3.5 
Rat		      Rattus_rattus			     0.132	 80.90	  3.5 
Rat		      Rattus_sordidus			     0.187	 51.40	  4   
Cotton_rat	      Sigmodon_hispidus		     0.161	 168.00	  3   
Brown_hare	      Lepus_europaeus			     2.500	 528.00	  8   
Snowshoe_hare	      Lepus_americanus		             1.580	 686.00	  7   
Jack_Rabbit	      Lepus_californicus		     2.300	 623.00	  8   
Mountain_hare	      Lepus_timidus			     3.000	 522.00	  9   
Hare		      Lepus_alleni			     3.360	 730.00	  9   
Cottontail	      Sulvilagus_audubonii		     0.702	 220.00	  7   
Pronghorn	      Antilocapra_americana		     32.000	 4320.00  18  	  
Camel		      Camelus_dromedarius		     407.000	 23600.00 26   
Asian_elephant	      Elephas_maximum			     3000.000 165000.00 54   
Roe_deer	      Capreolus_capreolus		     19.000	 3670.00  13  	  
Red_deer	      Cervus_elaphus			     58.000	 7800.00  18  	  
Horse		      Equus_cabalus			     400.000	 32000.00 40   
Merino_sheep	      Ovis_aries			     49.000	 4200.00  20  	  
Sheep		      Ovis_Canadensis			     65.000	 10700.00 20   
Buffalo		      Bubalus_caffer			     420.000	 29400.00 35   
Chamois		      Rupicapra_rupicapra		     40.000	 3140.00  21  	  
Swine		      Sus_scrofa			     140.000	 12000.00 15   
Collored_peccary      Tayassu_tajacu			     20.200	 826.00	  15  
Otter		      Lutra_lutra			     10.000	 2200.00  15  	  
Wolverine	      Gulogulo			             12.700	 2820.00  15  	  
Badger		      Meles_meles			     11.100	 1440.00  16  	  
Sea_otter	      Enhydra_lutris			     40.000	 12400.00 16   
Fox		      Vulpes_vulpes			     5.010	 1210.00  12  	  
Coyote		      canis_latrans			     10.000	 1320.00  18  	  
Dog		      Canis_familiaris		             14.000	 1880.00  18  	  
Jaguar		      Panthera_onca			     18.000	 2440.00  20  	  
Cat		      Felis_silvestris		              3.000	 546.00	  11  
Mink		      Mustela_vis_on			      0.660	 239.00	  8   
Harbor_seal	      Phoca_vitulina			     26.000	 7400.00  13  	  
Beluga_whale	      Delphinapterus_leucas		     170.000	 23000.00 25   
Bottle-nosed_whale    Hyperoodon_ampullatus		     1000.000    69500.00 40   
Bat		      Desmodus_rotundus		     0.029	 9.65	  8   
Bat		      Vampyrops_lineatus		     0.022	 15.60	  6   
Ghost_bat	      Macroderma_gigas		             0.148	 68.00	  10  
Molossid_bat	      Eumops_per_otis			     0.057	 14.20	  10  
Fox_bat		      Pteropus_policephalus		     0.598	 153.00	  13  
Chimpanzee	      Pan_troglodytes			     45.000	 4620.00  40  	  
Rhesus_monkey	      Macaca_mulatta			     5.000	 960.00	  25  
Orangutan	      Pongo_pygma_eus			     150.000	 15500.00 45   
Gorilla		      Gorilla_gorilla			     250.000	 21000.00 45   
Gibbon		      Hylobater_lar			     8.000	 1510.00  25  	  
Man                   Homo_sapiens                        65.000	 7560.00  75   
;                                                                                                                                                                                                                   
DATA mammal;                                                                                                                                                                                                       
	SET mammal;                                                                                                                                                                                                        
	llife = log(life);                                                                                                                                                                                                 
	lmetab = log(metab);                                                                                                                                                                                               
	lmass = log(mass);                                                                                                                                                                                                 
;             
                                                                                                                                                                                                     
PROC REG DATA = mammal;                                                                                                                                                                                            
	MODEL llife = lmetab;                                                                                                                                                                                        
RUN;                                                                                                                                                                                                               
 
PROC REG DATA = mammal;                                                                                                                                                                                            
	MODEL llife = lmass;                                                                                                                                                                                        
RUN; 
                                                                                                                                                                                                                  
PROC REG DATA = mammal;                                                                                                                                                                                            
	MODEL llife = lmass lmetab;                                                                                                                                                                                        
RUN;                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                          
/* nonlinear regression */
    
DATA mammal;
	SET mammal;
	massExp = mass**(3/4);
;

PROC gplot data = mammal;
	plot metab*mass;
	plot2 massExp*mass;                                                                                                                                                                                                              


PROC NLIN PLOTS=ALL BEST=10;
	PARMS 
	theta0=100 to 500 by 10
	theta1=0 to 1 by 0.01;
	MODEL metab=theta0*mass**(theta1);
	OUTPUT out=fitted predicted=yhat;
RUN;

PROC gplot data = fitted;
	plot metab*mass;
	plot2 yhat*mass;                                                                                                                                                                                                               

PROC NLIN PLOTS=ALL BEST=10;
	WHERE mass<500;
	PARMS 
	theta0=100 to 500 by 10
	theta1=0 to 1 by 0.01;
	MODEL metab=theta0*mass**(theta1);
	OUTPUT out=fitted predicted=yhat;
RUN;

PROC gplot data = fitted;
	plot metab*mass;
	plot2 yhat*mass;                                                                                                                                                                                                               